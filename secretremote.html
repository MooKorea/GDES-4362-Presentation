<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="output.css" rel="stylesheet" />
  </head>
  <body class="m-2">
    <div class="flex w-full gap-3">
      <button class="prev w-full py-10 bg-slate-100 border-2">Prev</button>
      <button class="next w-full py-10 bg-slate-100 border-2">Next</button>
    </div>
    <button class="hand-track-btn mt-3 w-full py-10 bg-slate-100 border-2">
      Hand Tracking <br />
      <span class="hand-track-isenabled">Disabled</span>
    </button>
    <button class="debug-btn mt-3 w-full py-10 bg-slate-100 border-2">
      Debug Mode <br />
      <span class="debug-isenabled">Disabled</span>
    </button>
    <script type="module">
      import { database } from "./main.js";
      import {
        get,
        ref,
        set,
      } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

      
      const handTrackRef = ref(database, "handTrackEnable");
      set(handTrackRef, false)
      
      let isHandTrackEnabled;
      const enabledLabel = document.querySelector(".hand-track-isenabled");
      const handTrackButton = document.querySelector("button.hand-track-btn")
      handTrackButton.addEventListener("click", () => {
        isHandTrackEnabled = !isHandTrackEnabled;
        enabledLabel.innerHTML = isHandTrackEnabled ? "Enabled" : "Disabled"
        set(handTrackRef, isHandTrackEnabled)
      })

      const debugRef = ref(database, "debugEnable");
      set(debugRef, false)

      let isDebugEnabled;
      const debugEnabledLabel = document.querySelector(".debug-isenabled");
      const debugButton = document.querySelector("button.debug-btn")
      debugButton.addEventListener("click", () => {
        isDebugEnabled = !isDebugEnabled;
        debugEnabledLabel.innerHTML = isDebugEnabled ? "Enabled" : "Disabled"
        set(debugRef, isDebugEnabled)
      })

      const prevButton = document.querySelector("button.prev")
      const nextButton = document.querySelector("button.next")

      //0 = previous, 1 = next
      const slideDirectionRef = ref(database, "slideDirection")
      prevButton.addEventListener("click", () => {
        set(slideDirectionRef, `0 ${Date.now()}`);
      })

      nextButton.addEventListener("click", () => {
        set(slideDirectionRef, `1 ${Date.now()}`);
      })
    </script>
  </body>
</html>
